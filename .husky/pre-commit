#!/usr/bin/env sh

# Prisma schema ìœ íš¨ì„± ê²€ì‚¬ë§Œ ìˆ˜í–‰ (migration ì²´í¬ ì œê±°)
# DB ìŠ¤í‚¤ë§ˆëŠ” init-db.sqlë¡œ ê´€ë¦¬ë¨
if git diff --cached --name-only | grep -q "prisma/"; then
    echo "ğŸ” Validating Prisma schema..."
    npx prisma validate || {
        echo ""
        echo "âŒ ERROR: Prisma schema validation failed!"
        echo ""
        exit 1
    }
    echo "âœ… Prisma schema is valid"
fi
